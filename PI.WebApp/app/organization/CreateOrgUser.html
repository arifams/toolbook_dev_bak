<div>
    <h2 class="box-title m-t-0" ng-hide="orgMgtCtrl.user.id != 0"> <translate> Add User </translate></h2>
    <h2 class="box-title m-t-0" ng-show="orgMgtCtrl.user.id != 0"> <translate> Edit User </translate></h2>
    <div class="form-group form-control col-sm-12 p-0">
        <span style="font-style:italic" translate>  * Indicates mandatory fields.</span>
    </div>
    <form class="form-horizontal" name="formSaveUser">

        <div class="row m-0">
            <div class="form-group m-l-0 m-r-0">
                <label class="control-label" translate>First name *</label>
                <input type="text" name="firstname" class="form-control form-white"
                        required autofocus ng-model="orgMgtCtrl.user.firstName" ng-minlength="3" ng-maxlength="100"
                        ng-class="{ 'error': formSaveUser.firstname.$invalid && (formSaveUser.firstname.$dirty||orgMgtCtrl.isSubmit) }" />
                <div ng-messages="formSaveUser.firstname.$error" ng-show="formSaveUser.firstname.$dirty || orgMgtCtrl.isSubmit">
                    <label ng-message="required" class="error error-label-marginleft" for="firstname" translate>Enter your first name</label>
                    <label ng-message="minlength" class="error error-label-marginleft" for="firstname" translate>Enter at least 3 characters or more</label>
                    <label ng-message="maxlength" class="error error-label-marginleft" for="firstname" translate>Enter less than 100 characters</label>
                </div>
            </div>

        </div>

        <div class="row m-0">
            <div class="form-group m-l-0 m-r-0">
                <label class="control-label" translate>Last name *</label>
                <input type="text" name="lastname" class="form-control form-white"
                       minlength="4" required ng-model="orgMgtCtrl.user.lastName" ng-minlength="3" ng-maxlength="100"
                       ng-class="{ 'error': formSaveUser.lastname.$invalid && (formSaveUser.lastname.$dirty||orgMgtCtrl.isSubmit) }"/>
                <div ng-messages="formSaveUser.lastname.$error" ng-show="formSaveUser.lastname.$dirty ||orgMgtCtrl.isSubmit">
                    <label ng-message="required" class="error error-label-marginleft" for="lastname" translate>Enter your last name</label>
                    <label ng-message="minlength" class="error error-label-marginleft" for="lastname" translate>Enter at least 3 characters or more</label>
                    <label ng-message="maxlength" class="error error-label-marginleft" for="lastname" translate>Enter less than 100 characters</label>
                </div>
            </div>
        </div>

        <div class="row m-0">
            <div class="form-group m-l-0 m-r-0">
                <label class="control-label" translate>Email address *</label>
                <input type="text" name="email" class="form-control form-white"
                       ng-model="orgMgtCtrl.user.email" required ng-maxlength="100"
                       ng-class="{ 'error': formSaveUser.email.$invalid && (formSaveUser.email.$dirty||orgMgtCtrl.isSubmit) }"/>
                <div ng-messages="formSaveUser.email.$error" ng-show="formSaveUser.email.$dirty || orgMgtCtrl.isSubmit">
                    <label ng-message="required" class="error error-label-marginleft" for="email" translate>Enter your email address</label>
                    <label ng-message="email" class="error error-label-marginleft" for="email" translate>Enter valid email address</label>
                </div>
            </div>
        </div>

        <div class="row m-0">
            <div class="form-group m-l-0 m-r-0">
                <label class="control-label" translate>Password *</label>
                <input type="password" name="password" class="form-control form-white" valid-passwordorg 
                           minlength="8" required ng-model="orgMgtCtrl.user.password" ng-minlength="3" ng-maxlength="100"
                           ng-class="{ 'error': formSaveUser.password.$invalid && (formSaveUser.password.$dirty||orgMgtCtrl.isSubmit) }" />
                <div ng-messages="formSaveUser.password.$error" ng-show="formSaveUser.password.$dirty ||orgMgtCtrl.isSubmit">
                    <label ng-message="required" class="error error-label-marginleft" for="password" translate>Enter password</label>
                    <label ng-message="noValidPassword" class="error error-label-marginleft" for="password" translate>Enter valid password</label>
                </div>
            </div>
        </div>

        <div class="row m-0">
            <div class="form-group m-l-0 m-r-0">
                <label class="control-label" translate>Confirm Password *</label>
                <input type="password" name="password" class="form-control form-white" valid-password-corg
                           minlength="8" required ng-model="orgMgtCtrl.user.passwordConf" ng-minlength="3" ng-maxlength="100"
                           ng-class="{ 'error': formSaveUser.passwordConf.$invalid && (formSaveUser.passwordConf.$dirty||orgMgtCtrl.isSubmit) }"/>
                <div ng-messages="formSaveUser.passwordConf.$error" ng-show="formSaveUser.passwordConf.$dirty ||orgMgtCtrl.isSubmit">
                    <label ng-message="required" class="error error-label-marginleft" for="passwordConf" translate>Enter password</label>
                    <label ng-message="noMatch" class="error" for="passwordConf" translate>2 passwords must be the same</label>
                </div>
            </div>
        </div>

        <div class="row m-l-0 m-r-0" style="margin-top:20px">
            <div class="form-group m-0">
                <label class="control-label" translate>
                    Status
                </label>
                <div class="option-group">
                    <select class="form-control form-white"
                            name="role" ng-model="orgMgtCtrl.user.isActive"
                            data-container="body" data-toggle="popover"
                            data-placement="top" data-html="true" data-content="">
                        <option value="true" translate>Active</option>
                        <option value="false" translate>Inactive</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="row m-l-0 m-r-0" style="margin-top:20px;">
            <div class="form-group m-0">
                <label class="control-label" translate>
                    Role
                </label>
                <div class="option-group">
                    <select name="mySelect" class="form-control form-white" ng-model="orgMgtCtrl.user.assignedRoleName"
                            convert-to-number ng-options="option.roleName as option.roleName for option in
                                                    orgMgtCtrl.user.roles" ng-required="true"
                            rel="popover" data-container="body" data-toggle="popover"
                            data-placement="top"
                            data-html="true"
                            data-content="User role will determine the user's permisssion level.">
                        <option value="BusinessOwner" translate>BusinessOwner</option>
                        <option value="Manager" translate>Manager</option>
                        <!--<option value="FrontOffice" translate>Front office</option>
                        <option value="BackOffice" translate>Back office</option>-->
                    </select>
                </div>
            </div>

        </div>

        <div class="row m-0">
            <div class="form-group m-l-0 m-r-0 m-t-10">
                <button type="submit" ng-click="(formSaveUser.$valid ? orgMgtCtrl.saveUser() : orgMgtCtrl.isSubmit = true)"
                        class="btn btn-primary">
                    <translate>Save</translate>
                </button>
                <button ng-click="orgMgtCtrl.close()"
                        class="btn btn-primary">
                    <translate>Cancel</translate>
                </button>
            </div>
        </div>

    </form>


</div>