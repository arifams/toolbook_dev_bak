<div id="panel-notif2"></div>
<div ng-controller="saveAddressCtrl as addressCtrl">

    <div class="row m-l-0 m-r-0 m-b-10">
        <h2 class="m-t-0 custom-page-header" ng-hide="addressCtrl.model.id > 0">Add address</h2>
    </div>
    <div class="row m-l-0 m-r-0 m-b-10">
        <h2 class="m-t-0 custom-page-header" ng-show="addressCtrl.model.id > 0">Edit address</h2>
    </div>


    <!--<h2 class="box-title" ng-hide="addressCtrl.model.id > 0"> <translate> Add Address  </translate>
    <a href="#loadAddresses" class="btn btn-primary active pull-right" style="width:auto;" role="button">Manage Address</a></h2>
    <h2 class="box-title" ng-show="addressCtrl.model.id > 0"><translate>  Edit Address </translate> 
        <a href="#loadAddresses" class="btn btn-primary active pull-right" style="width:auto;" role="button">Manage Address</a></h2>-->

    <div class="panel">
        <form class="form-horizontal" name="saveAddressForm" novalidate>
            
            <div class="panel-content panel-border">
                <div class="row">
                    <div class="col-md-12">
                        <!-- left column -->                      
                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Company Name</label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.companyName" type="text" name="companyname" class="form-control"
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.companyname.$invalid &&
                                                                        (saveAddressForm.companyname.$dirty|| addressCtrl.isSubmit) }"
                                       placeholder="{{'Enter Company Name' | translate}}" />
                                <div ng-messages="saveAddressForm.companyname.$error"
                                     ng-show="saveAddressForm.companyname.$dirty || addressCtrl.isSubmit">
                                    <!--<label ng-message="required" class="error" for="divisionName">Company Name is required</label>-->
                                    <label ng-message="maxlength" class="error" for="divisionName">Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div> 

                        <!--<div class="form-group">
                            <label class="col-sm-2 control-label" translate>Salutation *</label>
                            <div class="col-sm-2">                               
                                    <div class="option-group">
                                        <select id="salutation" name="salutation" class="salutation form-control" required ng-model="addressCtrl.model.salutation"  >
                                            <option value="Mr" selected translate>Mr</option>
                                            <option value="Mrs" translate>Mrs</option>
                                            <option value="Ms"  translate>Ms</option>
                                        </select>    
                                        <div ng-messages="saveAddressForm.salutation.$error"
                                             ng-show="addressCtrl.isSubmit">
                                            <label ng-message="required" class="error" for="divisionName">Salutation is required</label>
                                           
                                        </div>                             
                                </div>
                            </div>
                        </div>-->

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>First Name *</label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.firstName" type="text" name="firstname" class="form-control" ng-required="true"
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.firstname.$invalid &&
                                                                        (saveAddressForm.firstname.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Enter first name' | translate}}" ng-focus="fnameFocus = true" ng-blur="fnameFocus = false"/>
                                <div ng-messages="saveAddressForm.firstname.$error"
                                     ng-show="(saveAddressForm.firstname.$dirty && !fnameFocus) || addressCtrl.isSubmit">
                                    <label ng-message="required" class="error" for="divisionName" translate>First Name is required</label>
                                    <label ng-message="maxlength" class="error" for="divisionName" translate>Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Last Name *</label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.lastName" type="text" name="lastname" class="form-control" ng-required="true"
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.lastname.$invalid &&
                                                                        (saveAddressForm.lastname.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Enter last name' | translate}}" ng-focus="lnameFocus = true" ng-blur="lnameFocus = false"/>
                                <div ng-messages="saveAddressForm.lastname.$error"
                                     ng-show="(saveAddressForm.lastname.$dirty && !lnameFocus) || addressCtrl.isSubmit">
                                    <label ng-message="required" class="error" for="divisionName" translate>Last Name is required</label>
                                    <label ng-message="maxlength" class="error" for="divisionName" translate>Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Email Address *</label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.emailAddress" type="email" name="email" class="form-control" ng-required="true"
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.email.$invalid &&
                                                                        (saveAddressForm.email.$dirty|| addressCtrl.isSubmit) }"  placeholder="{{'Enter email' | translate}}" ng-focus="emailFocus = true" ng-blur="emailFocus = false"/>
                                <div ng-messages="saveAddressForm.email.$error"
                                     ng-show="(saveAddressForm.email.$dirty && !emailFocus) || addressCtrl.isSubmit">
                                    <label ng-message="email" class="error" for="email" translate>Enter valid email address</label>
                                    <label ng-message="required" class="error" for="divisionName" translate>Email is required</label>
                                    <label ng-message="maxlength" class="error" for="divisionName" translate>Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div>  

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Phone Number *</label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.phoneNumber" type="text" name="phonenumber" class="form-control" ng-required="true" valid-phone-no
                                       ng-maxlength="20" ng-class="{ 'error': saveAddressForm.phonenumber.$invalid &&
                                                                        (saveAddressForm.phonenumber.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Enter phone number' | translate}}" ng-focus="phoneFocus = true" ng-blur="phoneFocus = false"/>
                                <div ng-messages="saveAddressForm.phonenumber.$error"
                                     ng-show="(saveAddressForm.phonenumber.$dirty && !phoneFocus) || addressCtrl.isSubmit">
                                    <label ng-message="required" class="error" for="divisionName" translate>Phone Number is required</label>
                                    <label ng-message="maxlength" class="error" for="divisionName" translate>Max length should be 20 characters</label>
                                    <label ng-message="notValidPhoneNo" class="error" for="billing_phonenumber" translate>Enter valid phone number</label>
                                </div>
                            </div>
                        </div> 

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Account Number </label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.accountNumber" type="text" name="accountnumber" class="form-control" 
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.accountnumber.$invalid &&
                                                                        (saveAddressForm.accountnumber.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Enter account number' | translate}}"/>
                                <div ng-messages="saveAddressForm.accountnumber.$error"
                                     ng-show="saveAddressForm.accountnumber.$dirty || addressCtrl.isSubmit">
                                    <!--<label ng-message="required" class="error" for="divisionName">Account Number is required</label>-->
                                    <label ng-message="maxlength" class="error" for="divisionName" translate>Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div> 

                        <div class="form-group">
                            <label class="col-md-2 control-label"><strong translate>Address Details </strong></label>
                            <div class="col-md-10">                                
                            </div>
                        </div> 

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Country *</label>
                            <div class="col-md-8">
                                <div class="option-group">
                                    <country-select id="country" name="country"
                                                    ng-model="addressCtrl.model.country" ng-change="addressCtrl.changeCountry()"
                                                    class="form-control" ng-required="true"></country-select>
                                </div>
                                <div ng-messages="saveAddressForm.country.$error"
                                     ng-show="addressCtrl.isSubmit">
                                    <!--<label ng-message="required" class="error" for="divisionName">Account Number is required</label>-->
                                    <label ng-message="required" class="error" for="country" translate>Country is required</label>
                                </div>
                            </div>
                        </div> 

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Postal/ Zip Code *</label>
                            <div class="col-md-8">
                                <div class="form-group input-group m-0">
                                    <input ng-model="addressCtrl.model.zipCode" type="text" name="postalcode" class="form-control" required
                                           ng-maxlength="20" ng-class="{ 'error': saveAddressForm.postalcode.$invalid &&
                                                                        (saveAddressForm.postalcode.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Entetr Zip/Postal Code' | translate}}" ng-focus="zipCodeFocus = true" ng-blur="zipCodeFocus = false" />

                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-large btn-primary no-margin resize-btn" ng-click="addressCtrl.getAddressInformation()">
                                            LookUp
                                        </button>
                                    </span>
                                </div>
                                <label  class="error" for="postalcode" translate ng-show="addressCtrl.errorCode">Invalid Zip/Postal Code</label>
                                <div ng-messages="saveAddressForm.postalcode.$error"
                                     ng-show="(saveAddressForm.postalcode.$dirty && !zipCodeFocus) || addressCtrl.isSubmit">
                                    <label ng-message="required" class="error" for="postalcode" translate>Postal Code is required</label>
                                    <label ng-message="maxlength" class="error" for="postalcode" translate>Max length should be 20 characters</label>
                                </div>
                            </div>
                        </div> 

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Address *</label>
                            <!--<div class="col-sm-3">
                                <input ng-model="addressCtrl.model.number" type="text" name="number" class="form-control" ng-required="true"
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.number.$invalid &&
                                                                        (saveAddressForm.number.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Enter number' | translate}}" ng-focus="numberFocus = true" ng-blur="numberFocus = false"/>
                                <div ng-messages="saveAddressForm.number.$error"
                                     ng-show="(saveAddressForm.number.$dirty && !numberFocus) || addressCtrl.isSubmit">
                                    <label ng-message="required" class="error" for="postalcode" translate>Number is required</label>
                                    <label ng-message="maxlength" class="error" for="postalcode" translate>Max length should be 200 characters</label>
                                </div>
                            </div>-->
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.streetAddress1" type="text" name="address1" class="form-control" ng-required="true"
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.address1.$invalid &&
                                                                        (saveAddressForm.address1.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Enter address1' | translate}}"/>
                                <div ng-messages="saveAddressForm.address1.$error"
                                     ng-show="saveAddressForm.address1.$dirty || addressCtrl.isSubmit">
                                    <label ng-message="required" class="error" for="postalcode" translate>Address is required</label>
                                    <label ng-message="maxlength" class="error" for="postalcode" translate>Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div> 

                        <div class="form-group">
                            <label class="col-md-2"></label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.streetAddress2" type="text" name="address2" class="form-control" 
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.address2.$invalid &&
                                                                        (saveAddressForm.address2.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Additional address information' | translate}}"/>
                                <div ng-messages="saveAddressForm.address2.$error"
                                     ng-show="saveAddressForm.address2.$dirty || addressCtrl.isSubmit">                                    
                                    <label ng-message="maxlength" class="error" for="postalcode" translate>Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div> 
                               
                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>
                                City*
                            </label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.city" type="text" name="city" class="form-control" required 
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.city.$invalid &&
                                                                        (saveAddressForm.city.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Enter city' | translate}}" ng-focus="cityFocus = true" ng-blur="cityFocus = false"/>
                                <div ng-messages="saveAddressForm.city.$error"
                                     ng-show="(saveAddressForm.city.$dirty && !cityFocus) || addressCtrl.isSubmit">
                                    <label ng-message="required" class="error" for="postalcode" translate>City is required</label>
                                    <label ng-message="maxlength" class="error" for="postalcode" translate>Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div> 

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>
                                State
                            </label>
                            <div class="col-md-8">
                                <input ng-model="addressCtrl.model.state" type="text" name="state" class="form-control" ng-required="addressCtrl.isRequiredState"
                                       ng-maxlength="200" ng-class="{ 'error': saveAddressForm.state.$invalid &&
                                                                        (saveAddressForm.state.$dirty|| addressCtrl.isSubmit) }" placeholder="{{'Enter state' | translate}} {{addressCtrl.isRequiredState?'*':''}}" />
                                <div ng-messages="saveAddressForm.state.$error"
                                     ng-show="saveAddressForm.state.$dirty || addressCtrl.isSubmit">
                                    <label ng-message="required" class="error" for="postalcode" translate>State is required</label>
                                    <label ng-message="maxlength" class="error" for="postalcode" translate>Max length should be 200 characters</label>
                                </div>
                            </div>
                        </div> 

                        <div class="form-group">
                            <label class="col-md-2 control-label" translate>Status</label>
                            <div class="col-md-10 radio-inline " >
                                <div class="icheck-inline">
                                   
                                    <label><input type="radio" name="iscorporate" icheck ng-model="addressCtrl.model.isActive" value="true" > <translate>Active </translate></label>
                                    <label><input type="radio" name="iscorporate" icheck ng-model="addressCtrl.model.isActive" value="false" ><translate>Inactive </translate> </label>
                                </div>
                            </div>
                        </div>

                        <div class="row m-0">
                            <button ng-click="addressCtrl.close()" class="btn btn-primary btn-app pull-right">
                               <translate>Cancel</translate> 
                            </button>
                            <button type="submit" ng-click="(saveAddressForm.$valid ? addressCtrl.saveAddressDetail() : addressCtrl.isSubmit = true)" class="btn btn-primary btn-app pull-right">
                                <translate>Save</translate> 
                            </button>
                        </div>
                                       
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
